{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u7b80\u4ecb","text":"<p>\u4e0d\u540c\u4e8e\u4f20\u7edf\u4f53\u8102\u79e4, \u79e4\u7aef\u53ea\u80fd\u663e\u793a\u4f53\u91cd\u548cBMI. WSP\u79e4\u53ef\u4ee5\u663e\u793a\u5404\u9879\u6d4b\u91cf\u6307\u6807 </p> <p>\u4f0a\u6b27\u4e50WSP\u5206\u4e3a\u670d\u52a1\u5668SDK\u4e0eAPP SDK. \u672c\u6587\u6863\u4e3a\u670d\u52a1\u5668SDK.</p> <p>\u5f53\u524dDocker\u7248\u672c\u4e3a1.0.19</p>"},{"location":"flow/","title":"\u6d41\u7a0b\u56fe","text":"<p>\u6d41\u7a0b\u56fe</p>"},{"location":"docker/api/","title":"\u79e4\u7aef\u8bf7\u6c42\u63a5\u53e3","text":""},{"location":"docker/api/#_1","title":"\u5728\u7ebf\u6d4b\u8bd5","text":"<p>\u63a5\u53e3\u5730\u5740: <code>GET /yolanda/test</code></p> <p>\u5728\u7ebf\u793a\u4f8b: http://wsp-sdk.yolanda.hk/yolanda/test</p>"},{"location":"docker/api/#docker","title":"\u79e4\u7aef\u4e0edocker\u4ea4\u4e92","text":"<p>\u63a5\u53e3\u5730\u5740: <code>GET /yolanda/wsp?code=</code></p> <p>\u5728\u7ebf\u793a\u4f8b: http://wsp-sdk.yolanda.hk/yolanda/wsp?code=ERROR</p>"},{"location":"docker/api/#_2","title":"\u5065\u5eb7\u68c0\u67e5","text":"<p>\u63a5\u53e3\u5730\u5740: <code>GET /yolanda/healthcheck</code></p> <p>\u5728\u7ebf\u793a\u4f8b: http://wsp-sdk.yolanda.hk/yolanda/healthcheck</p>"},{"location":"docker/api/#hmac","title":"\u751f\u6210\u65b0\u7684Hmac","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /yolanda/generate_new_hmac</code> \u53c2\u6570: </p> <pre><code>curl --request POST \\\n--url http://your-docker-domain/yolanda/generate_new_hmac \\\n--header 'Content-Type: application/json' \\\n--data '{\n  \"old_hmac\": \"6EB5B207EB762FE1AED6B3C40D12E1ED5345AF7D6518A59B360C9860C07D2E9990E13E861404026D2413275F124CE0E37E9CA4E1AED6B3C488EDEEED6233EE92F29F0864515B5AB7FA29322C366EB5B29B23F753027B815F914E78A1DCA13FCBF887A03C1C7DFD890098884C81E78C025D27A0C84426B67BE9D2E4889B2E2CE3B6515A13853FCDB2F074D645F5DA4E7DAB01A1424D024F36C9BEAC40000\",\n  \"model_id\": \"0204\"\n}'\n</code></pre> <p>\u8fd4\u56de\u503c</p> <pre><code>{\n\"code\": \"200\",\n\"new_hmac\": \"3F828A0207EB762F6518A59B360C9860C07D2E9990E13E8614046EB5B275F124CE0E37E9CA4A2B08DCD613E1E1AED6B3C488EDEEE864515B5AB7FA29322C366EB5B29B23F753027B815F914E78A10D12E1ED5345AF7DDCA13FCBF887A03C1C7DFD890098884C81E78C025D27A0C84426B67BE9D2E4889B24C8DCD2737996308B28F38C6D211FDD5A4E7DAB01A1424D024F36C9BEAC40000\"\n}\n</code></pre> <p>\u6ce8, \u4ee5\u4e0a\u4e3a\u5047\u6570\u636e.</p>"},{"location":"docker/api/#_3","title":"\u8ba1\u7b97\u6307\u6807\u6570\u636e","text":"<p>\u8bf7\u6c42\u5730\u5740: POST /yolanda/calculate</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f algorithm Integer \u5fc5\u586b \u7b97\u6cd5 mock: 2 sport_flag Integer \u5fc5\u586b \u662f\u5426\u8fd0\u52a8\u5458\u6a21\u5f0f, 0\u5426 1\u662f mock: 0 height Float \u5fc5\u586b \u8eab\u9ad8(cm) mock: 180 birthday String \u5fc5\u586b \u751f\u65e5 mock: 1995-08-08 gender Integer \u5fc5\u586b \u6027\u522b\uff0c0\u5973\uff0c1\u7537 mock: 1 hmac Integer \u5fc5\u586b Hmac mock: 21C422176CA1C23AA843984B1A363D00A315E2D3092BC0B5425F446CB17EC4CA3B5C270718D9A674FC9F70D498378E8A6F4FB43294A59997CEA1B3A443D1AE595333CEA5A359A9A8DC3AF50D14194566D4DE43C7AAB2D0ED2CFE9ACCFA951B42C17986190E03FD93F27F89474E1A4834D7D89C36A4A8F8BA319CE4A699841437DA2913598D510E3D7C74F16B0B64FD9D <p>\u8fd4\u56de\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 code String \u5fc5\u586b \u9519\u8bef\u7801 msg String \u5fc5\u586b \u9519\u8bef\u4fe1\u606f calc_result Object \u5fc5\u586b \u8ba1\u7b97\u7ed3\u679c\uff0c\u4e3a\u7a7a\u5bf9\u8c61\u8868\u793a\u8ba1\u7b97\u51fa\u9519 - score Float \u5fc5\u586b \u5206\u6570 - weight Float \u5fc5\u586b \u4f53\u91cd - bodyfat Float \u5fc5\u586b \u4f53\u8102\u7387 - subfat Float \u5fc5\u586b \u76ae\u4e0b\u8102\u80aa - visfat Float \u5fc5\u586b \u5185\u810f\u8102\u80aa\u7b49\u7ea7 - water Float \u5fc5\u586b \u4f53\u6c34\u5206 - bmr Integer \u5fc5\u586b \u57fa\u7840\u4ee3\u8c22 - bodyage FloIntegerat \u5fc5\u586b \u4f53\u5e74\u9f84 - muscle Float \u5fc5\u586b \u9aa8\u9abc\u808c\u7387 - bone Float \u5fc5\u586b \u9aa8\u91cf - bmi Float \u5fc5\u586b BMI - sinew Float \u5fc5\u586b \u808c\u8089\u91cf - protein Float \u5fc5\u586b \u86cb\u767d\u8d28 - body_shape Integer \u5fc5\u586b \u4f53\u578b - fat_free_weight Float \u5fc5\u586b \u53bb\u8102\u4f53\u91cd - heart_rate Float \u5fc5\u586b \u5fc3\u7387 - cardiac_index Float \u5fc5\u586b \u5fc3\u810f\u6307\u6570 <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"algorithm\": 2,\n\"sport_flag\": 0,\n\"height\": 180.0,\n\"birthday\": \"1995-08-08\",\n\"gender\": 1,\n\"hmac\": \"21C422176CA1C23AA843984B1A363D00A315E2D3092BC0B5425F446CB17EC4CA3B5C270718D9A674FC9F70D498378E8A6F4FB43294A59997CEA1B3A443D1AE595333CEA5A359A9A8DC3AF50D14194566D4DE43C7AAB2D0ED2CFE9ACCFA951B42C17986190E03FD93F27F89474E1A4834D7D89C36A4A8F8BA319CE4A699841437DA2913598D510E3D7C74F16B0B64FD9D\"\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"calc_result\": {\n\"score\": 86.5,\n\"weight\": 62.9,\n\"bodyfat\": 13,\n\"subfat\": 11.9,\n\"visfat\": 2.874408641975309,\n\"water\": 62.8,\n\"bmr\": 1552,\n\"bodyage\": 22,\n\"muscle\": 56.2,\n\"bone\": 2.74,\n\"bmi\": 19.4,\n\"sinew\": 52,\n\"protein\": 19.9,\n\"body_shape\": 4,\n\"fat_free_weight\": 54.7,\n\"heart_rate\": 93,\n\"cardiac_index\": 3.7\n}\n}\n</code></pre>"},{"location":"docker/changelog/","title":"\u53d8\u66f4\u65e5\u5fd7","text":""},{"location":"docker/changelog/#v1019-2023-04-21","title":"v1.0.19 (2023-04-21)","text":"<ul> <li>\u63d0\u4f9b\u6307\u6807\u8ba1\u7b97\u63a5\u53e3</li> </ul>"},{"location":"docker/changelog/#v1018-2023-04-03","title":"v1.0.18 (2023-04-03)","text":"<ul> <li>\u652f\u6301\u91cd\u65b0\u8ba1\u7b97hmac, \u4ee5\u4fee\u590d\u591a\u5b9e\u4f8b\u90e8\u7f72\u5bfc\u81f4\u7684model_id\u8ba1\u7b97\u95ee\u9898</li> </ul>"},{"location":"docker/changelog/#v1011-2021-04-30","title":"v1.0.11 (2021-04-30)","text":"<ul> <li>\u5347\u7ea7\u6846\u67b6\u53ca\u8bed\u8a00\u7248\u672c, \u4f18\u5316\u6027\u80fd</li> <li>(\u5ba2\u6237\u5b9a\u5236)\u591a\u7528\u6237\u6570\u636e\u4e0a\u4f20</li> </ul>"},{"location":"docker/changelog/#v1010-2021-01-07","title":"v1.0.10 (2021-01-07)","text":"<ul> <li>(\u5ba2\u6237\u5b9a\u5236)\u652f\u6301\u5b58\u50a8\u7535\u91cf</li> <li>(\u5ba2\u6237\u5b9a\u5236)\u652f\u6301\u63a7\u5236\u91cd\u91cf\u6307\u6807\u663e\u793a</li> </ul>"},{"location":"docker/changelog/#v109-2020-11-23","title":"v1.0.9 (2020-11-23)","text":"<ul> <li>\u6dfb\u52a0\u66f4\u591a\u7684API\u8bf7\u6c42\u65e5\u5fd7, \u6bcf\u6761\u65e5\u5fd7\u5e26\u4e0a\u8bf7\u6c42ID</li> <li>(\u5ba2\u6237\u5b9a\u5236)\u4fee\u590d\u6e29\u5ea6\u4e3a\u8d1f\u95ee\u9898</li> </ul>"},{"location":"docker/changelog/#v107-2020-10-21","title":"v1.0.7 (2020-10-21)","text":"<ul> <li>\u670d\u52a1\u5668\u65f6\u533a\u9ed8\u8ba4\u7531UTC\u65f6\u95f4\u6539\u4e3a\u4e1c\u516b\u533a\u65f6\u95f4,\u652f\u6301\u4f20\u5165TZ\u4fee\u6539\u65f6\u533a</li> <li>\u6027\u80fd\u4f18\u5316</li> </ul>"},{"location":"docker/deploy_docker_server/","title":"\u90e8\u7f72\u670d\u52a1\u5668Docker","text":"<p>\u670d\u52a1\u5668SDK\u91c7\u7528Docker\u955c\u50cf\u7684\u65b9\u5f0f\u8fdb\u884c\u5206\u53d1, \u9700\u5f00\u53d1\u8005\u7406\u89e3\u5e76\u638c\u63e1Docker</p>"},{"location":"docker/deploy_docker_server/#_1","title":"\u8bfb\u53d6\u955c\u50cf","text":"<p><code>vim Dockerfile</code></p> <pre><code>FROM registry.cn-shenzhen.aliyuncs.com/yolanda/wsp_open:v1.0.18\n</code></pre>"},{"location":"docker/deploy_docker_server/#_2","title":"\u914d\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>WSP_DOMAIN\u4e3a\u4e09\u65b9\u670d\u52a1\u5668\u8bbf\u95ee\u5730\u5740, \u6ce8\u610f\u4e0d\u8981\u6709\u7a7a\u683c SUPPORT_READ_MODEL_ID_FLAG\u4e3a\u662f\u5426\u9700\u8981\u7279\u6b8a\u652f\u6301read_model_id\u63a5\u53e3\u6807\u8bc6, \u8be5\u73af\u5883\u53d8\u91cf\u914d\u5408read_model_id\u63a5\u53e3\u4f7f\u7528, \u4ee5\u4fdd\u8bc1\u591a\u5b9e\u4f8b\u90e8\u7f72\u65f6\u670d\u52a1\u5668\u53d1\u9001\u7684model_id\u59cb\u7ec8\u662f\u6b63\u5e38, \u82e5\u9700\u5219\u8bbe\u4e3a1, \u5426\u5219\u53ef\u4ee5\u4e0d\u8003\u8651</p> <p><code>vim main.env</code></p> <pre><code>WSP_DOMAIN=https://abc.com\n</code></pre>"},{"location":"docker/deploy_docker_server/#_3","title":"\u542f\u52a8\u5bb9\u5668","text":"<pre><code>docker build . -t wsp_server\ndocker run -p 3000:3000 --env-file main.env wsp_server\n</code></pre>"},{"location":"third_server/deploy_third_server/","title":"\u90e8\u7f72","text":""},{"location":"third_server/deploy_third_server/#wsp","title":"\u63a5\u5165WSP\u534f\u8bae\u7684\u5f00\u53d1\u8005\u670d\u52a1\u5668, \u4e0d\u9650\u7f16\u7a0b\u8bed\u8a00","text":"<p>Docker\u8bf7\u6c42\u63a5\u53e3\u5fc5\u987b\u5b9e\u73b0, APP\u8bf7\u6c42\u63a5\u53e3\u4ec5\u4e3a\u793a\u4f8b, \u5f00\u53d1\u8005\u53ef\u4ee5\u6839\u636e\u4e2a\u4eba\u9700\u8981\u8fdb\u884c\u5b9e\u73b0</p>"},{"location":"third_server/request_by_app/","title":"APP\u8bf7\u6c42\u63a5\u53e3","text":""},{"location":"third_server/request_by_app/#_1","title":"\u79e4\u7528\u6237","text":""},{"location":"third_server/request_by_app/#_2","title":"\u7533\u8bf7\u5bc6\u94a5","text":"<p>\u8bf7\u6c42\u5730\u5740: POST /api/v1/scale_users/apply_key</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 mac String \u5fc5\u586b Mac user_id String \u5fc5\u586b \u7528\u6237ID <p>\u8fd4\u56de\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 key String \u5fc5\u586b \u5bc6\u94a5 <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"mac\": \"12:34:56:78:9A:BC\",\n\"user_id\": 100\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n\"key\": 7181\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app/#_3","title":"\u521b\u5efa\u79e4\u7528\u6237","text":"<p>\u8bf7\u6c42\u5730\u5740: POST /api/v1/scale_users/create_scale_user</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 mac String \u5fc5\u586b Mac\u5730\u5740 user_id String \u5fc5\u586b \u7528\u6237ID index Integer \u5fc5\u586b \u7d22\u5f15 key Integer \u5fc5\u586b \u5bc6\u94a5 <p>\u8fd4\u56de\u53c2\u6570: \u65e0</p> <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"mac\": \"F7:53:C8:C5:2B:86\",\n\"user_id\": 200,\n\"index\": 7,\n\"key\": 200\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app/#_4","title":"\u5220\u9664\u79e4\u7528\u6237","text":"<p>\u8bf7\u6c42\u5730\u5740: POST /api/v1/scale_users/delete_scale_user</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 mac String \u5fc5\u586b Mac\u5730\u5740 scale_user_ids String \u5fc5\u586b \u79e4\u7aef\u7528\u6237ID, \u9017\u53f7\u5206\u5272 <p>\u8fd4\u56de\u53c2\u6570: \u65e0</p> <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"mac\": \"12:34:56:78:9A:BC\",\n\"scale_user_ids\": \"100,100\"\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app/#_5","title":"\u83b7\u53d6\u9700\u8981\u5220\u9664\u7684\u79e4\u7528\u6237\u5217\u8868","text":"<p>\u8bf7\u6c42\u5730\u5740: GET /api/v1/scale_users/list_need_delete_user</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 mac String \u5fc5\u586b Mac\u5730\u5740 <p>\u8fd4\u56de\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 scale_users Array \u5fc5\u586b \u79e4\u7aef\u7528\u6237\u6570\u7ec4 <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"mac\": \"12:34:56:78:9A:BC\"\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n\"scale_users\": [\n{\n\"scale_user_id\": \"200\",\n\"user_id\": \"200\",\n\"mac\": \"12:34:56:78:9A:BC\",\n\"index\": 2,\n\"key\": 9999\n}\n]\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app/#_6","title":"\u83b7\u53d6\u79e4\u7528\u6237\u5217\u8868","text":"<p>\u8bf7\u6c42\u5730\u5740: GET /api/v1/scale_users/list_scale_user</p> <p>\u8bf7\u6c42\u53c2\u6570: \u65e0</p> <p>\u8fd4\u56de\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 scale_users Array \u5fc5\u586b \u79e4\u7aef\u7528\u6237\u6570\u7ec4 <p>\u53c2\u6570\u793a\u4f8b: \u65e0</p> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n\"scale_users\": [\n{\n\"scale_user_id\": \"200\",\n\"user_id\": \"200\",\n\"mac\": \"12:34:56:78:9A:BC\",\n\"index\": 2,\n\"key\": 9999\n},\n{\n\"scale_user_id\": \"100\",\n\"user_id\": \"100\",\n\"mac\": \"12:34:56:78:9A:BC\",\n\"index\": 1,\n\"key\": 1000\n}\n]\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app/#wsp","title":"WSP\u79e4","text":""},{"location":"third_server/request_by_app/#_7","title":"\u7533\u8bf7\u914d\u7f51\u4fe1\u606f","text":"<p>\u8bf7\u6c42\u5730\u5740: POST /api/v1/scales/apply_network_info</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 mac String \u5fc5\u586b Mac\u5730\u5740 scale_name String \u5fc5\u586b \u84dd\u7259\u540d internal_model String \u5fc5\u586b \u5185\u90e8\u578b\u53f7 <p>\u8fd4\u56de\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 server_url String \u5fc5\u586b \u670d\u52a1\u5668\u5730\u5740 ota_url String \u5fc5\u586b Ota\u5730\u5740 secret_key String \u5fc5\u586b \u79e4\u7aef\u5bc6\u94a5 <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"mac\": \"F7:53:C8:C5:2B:86\",\n\"scale_name\": \"QN-Scale\",\n\"internal_model\": \"0152\"\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n\"server_url\": \"http://wsp.yolanda.hk:80/wifi_api/wsps?code=\",\n\"ota_url\": \"https://otaurl.yolanda.hk\",\n\"secret_key\": \"OQnuVdVk8zH5vTmb\"\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app/#_8","title":"\u68c0\u67e5\u56fa\u4ef6\u7248\u672c","text":"<p>\u8bf7\u6c42\u5730\u5740: GET /api/v1/scales/check_firmware_version</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 mac String \u5fc5\u586b Mac\u5730\u5740 internal_model String \u5fc5\u586b \u5185\u90e8\u578b\u53f7 hardware_model Integer \u5fc5\u586b \u786c\u4ef6\u578b\u53f7 current_firmware_version Integer \u5fc5\u586b \u5f53\u524dOta\u7248\u672c <p>\u8fd4\u56de\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 new_firmware_version_flag Integer \u5fc5\u586b \u662f\u5426\u6709\u65b0\u7684\u56fa\u4ef6\u7248\u672c <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"mac\": \"12:34:56:78:9A:BC\",\n\"internal_model\": \"0001\",\n\"hardware_model\": 2,\n\"current_firmware_version\": 2\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n\"new_firmware_version_flag\": 1\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app/#_9","title":"\u66f4\u65b0\u52a0\u5bc6\u5bc6\u94a5","text":"<p>\u8bf7\u6c42\u5730\u5740: POST /api/v1/scales/update_secret_key</p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u5426\u5fc5\u586b \u5907\u6ce8 mac String \u5fc5\u586b Mac\u5730\u5740 secret_key String \u5fc5\u586b \u52a0\u5bc6\u5bc6\u94a5 <p>\u8fd4\u56de\u53c2\u6570: \u65e0</p> <p>\u53c2\u6570\u793a\u4f8b:</p> <pre><code>{\n\"mac\": \"12:34:56:78:9A:BC\",\n\"secret_key\": \"ti3FaD4bKcP3lQI2\"\n}\n</code></pre> <p>\u8fd4\u56de\u503c\u793a\u4f8b:</p> <pre><code>{\n\"code\": \"200\",\n\"msg\": \"ok\",\n\"data\": {\n}\n}\n</code></pre>"},{"location":"third_server/request_by_app_doc/","title":"APP\u8bf7\u6c42\u63a5\u53e3\u8bf4\u660e","text":""},{"location":"third_server/request_by_app_doc/#_1","title":"\u79e4\u7aef\u7528\u6237","text":""},{"location":"third_server/request_by_app_doc/#_2","title":"\u7533\u8bf7\u5bc6\u94a5","text":"<p>APP\u901a\u8fc7\u84dd\u7259\u5728\u79e4\u7aef\u521b\u5efa\u4e00\u4e2a\u7528\u6237\u524d, \u9700\u5411\u4e91\u7aef\u7d22\u8981\u7528\u6237\u5bc6\u94a5. </p> <p>\u6b64\u63a5\u53e3, APP\u9700\u63d0\u4f9bMac\u5730\u5740, \u7528\u6237ID, \u4e91\u7aef\u8fd4\u56de\u65b0\u751f\u6210\u7684\u5bc6\u94a5</p> <p>\u8fd4\u56de\u503c: + \u5bc6\u94a5</p>"},{"location":"third_server/request_by_app_doc/#_3","title":"\u521b\u5efa\u79e4\u7528\u6237","text":"<p>APP\u901a\u8fc7\u84dd\u7259\u521b\u5efa\u79e4\u7aef\u7528\u6237\u540e, \u4e5f\u9700\u540c\u6b65\u5230\u4e91\u7aef</p> <p>\u6b64\u63a5\u53e3, APP\u63d0\u4f9b\u7528\u6237ID, \u7d22\u5f15\u503c, \u79d8\u94a5, mac\u5730\u5740, \u4e91\u7aef\u521b\u5efa\u79e4\u7aef\u7528\u6237, \u4e14\u4fdd\u8bc1\u4e00\u5b9a\u521b\u5efa\u6210\u529f, \u5982\u679c\u7d22\u5f15\u88ab\u5360\u7528, \u5219\u8986\u76d6\u5904\u7406</p> <p>\u8fd4\u56de\u503c: + \u65e0</p>"},{"location":"third_server/request_by_app_doc/#_4","title":"\u5220\u9664\u79e4\u7528\u6237","text":"<p>\u5f53\u79e4\u7aef\u7528\u6237\u5df2\u8fbe\u5230\u9650\u5236\u540e, APP\u4f1a\u5f39\u51fa\u63d0\u793a\u6846, \u8ba9\u7528\u6237\u52fe\u9009\u79e4\u7aef\u7528\u6237\u8fdb\u884c\u5220\u9664.</p> <p>\u6b64\u63a5\u53e3, APP\u63d0\u4f9bmac\u5730\u5740, \u79e4\u7aef\u7528\u6237ID, \u4e91\u7aef\u901a\u8fc7\u8fd9\u4e9bID, \u5b8c\u5168\u5220\u9664\u5bf9\u5e94\u7684\u79e4\u7aef\u7528\u6237</p> <p>\u8fd4\u56de\u503c: + \u65e0</p>"},{"location":"third_server/request_by_app_doc/#_5","title":"\u83b7\u53d6\u9700\u8981\u5220\u9664\u7684\u79e4\u7528\u6237\u5217\u8868","text":"<p>\u5f53\u79e4\u7aef\u7528\u6237\u5df2\u8fbe\u5230\u9650\u5236\u540e, APP\u82e5\u80fd\u5224\u65ad\u54ea\u4e9b\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u5220\u9664, \u5219\u76f4\u63a5\u5220\u9664, \u907f\u514d\u5f39\u6846\u8ba9\u7528\u6237\u52fe\u9009\u7528\u6237\u5220\u9664. (\u6ce8: \u5f53APP\u5220\u9664\u5b50\u7528\u6237, \u89e3\u7ed1\u8bbe\u5907\u65f6, \u4f46APP\u53ef\u80fd\u672a\u5f80\u79e4\u7aef\u5220\u9664\u7528\u6237, \u4e91\u7aef\u4f1a\u81ea\u52a8\u5047\u5220\u9664\u8fd9\u4e9b\u79e4\u7aef\u7528\u6237)</p> <p>\u8fd4\u56de\u503c: + \u8be5Mac\u5730\u5740\u65d7\u4e0b\u6240\u6709\u5047\u5220\u9664\u7684\u7684\u79e4\u7aef\u7528\u6237\u5217\u8868</p>"},{"location":"third_server/request_by_app_doc/#_6","title":"\u83b7\u53d6\u79e4\u7528\u6237\u5217\u8868","text":"<p>\u5f53\u79e4\u7aef\u7528\u6237\u5df2\u8fbe\u5230\u9650\u5236\u540e, APP\u4f1a\u5f39\u51fa\u63d0\u793a\u6846, \u8ba9\u7528\u6237\u9009\u62e9\u79e4\u7aef\u7528\u6237\u8fdb\u884c\u5220\u9664. \u5219APP\u9700\u5f97\u77e5\u53ef\u4ee5\u5220\u9664\u7684\u79e4\u7aef\u7528\u6237\u5217\u8868.</p> <p>\u6b64\u63a5\u53e3, APP\u8bbf\u95ee\u4e91\u7aef\u5f97\u77e5\u5f53\u524d\u4e3b\u7528\u6237\u65d7\u4e0b\u7684\u6240\u6709\u79e4\u7aef\u7528\u6237</p> <p>\u8fd4\u56de\u503c: + \u5f53\u524d\u4e3b\u7528\u6237\u65d7\u4e0b\u7684\u672a\u5220\u9664\u7684\u79e4\u7aef\u7528\u6237\u5217\u8868</p>"},{"location":"third_server/request_by_app_doc/#_7","title":"\u79e4","text":""},{"location":"third_server/request_by_app_doc/#_8","title":"\u7533\u8bf7\u914d\u7f51\u4fe1\u606f","text":"<p>APP\u5728\u7ed9\u79e4\u7aef\u914d\u7f51\u65f6, \u79e4\u7aef\u9700\u5f97\u77e5\u4e91\u7aef\u4e1a\u52a1\u5730\u5740, Ota\u5347\u7ea7\u5730\u5740\u4e0e\u79e4\u7aef\u79d8\u94a5, \u624d\u80fd\u548c\u4e91\u7aef\u6b63\u5e38\u901a\u4fe1</p> <p>\u8fd4\u56de\u503c: + \u4e91\u7aef\u4e1a\u52a1\u5730\u5740(\u9700\u4e0e\u4e1a\u52a1\u4ee3\u7801\u4fdd\u6301\u4e00\u81f4, \u5982 http://localhost:3000/wsp?code=, \u79e4\u7aef\u5c06\u4f1a\u5c06\u4e1a\u52a1\u4ee3\u7801code\u4e0e\u6b64\u5b57\u7b26\u4e32\u62fc\u63a5) + Ota\u5347\u7ea7\u5730\u5740 + \u79e4\u7aef\u79d8\u94a5 (\u4e91\u7aef\u968f\u673a\u751f\u621016\u4f4dASCII\u7801\u79d8\u94a5)</p>"},{"location":"third_server/request_by_app_doc/#_9","title":"\u68c0\u67e5\u56fa\u4ef6\u7248\u672c","text":"<p>\u5f53\u6709\u65b0\u7684\u56fa\u4ef6\u7248\u672c\u53d1\u5e03\u540e, APP\u9700\u5f39\u7a97\u63d0\u793a\u6709\u65b0\u7684\u56fa\u4ef6\u7248\u672c</p> <p>\u6b64\u63a5\u53e3, APP\u4e0a\u4f20Mac, \u5185\u90e8\u578b\u53f7, \u786c\u4ef6\u578b\u53f7\u4e0e\u5f53\u524d\u56fa\u4ef6\u7248\u672c, \u4e91\u7aef\u5224\u65ad\u662f\u5426\u6709\u65b0\u7684\u56fa\u4ef6\u7248\u672c</p> <p>\u8fd4\u56de\u503c: + \u662f\u5426\u6709\u65b0\u7684\u56fa\u4ef6\u7248\u672c</p>"},{"location":"third_server/request_by_app_doc/#_10","title":"\u66f4\u65b0\u52a0\u5bc6\u5bc6\u94a5","text":"<p>APP\u63d0\u4f9bMac\u5730\u5740, \u4e0e\u79d8\u94a5, \u4e91\u7aef\u6839\u636eMac\u5730\u5740\u548c\u79d8\u94a5, \u66f4\u65b0WSP\u79e4\u79d8\u94a5</p> <p>\u8fd4\u56de\u503c: + \u65e0</p>"},{"location":"third_server/request_by_app_doc/#_11","title":"\u5907\u6ce8","text":"<ol> <li>\u5f53APP\u5220\u9664\u5b50\u7528\u6237, \u89e3\u7ed1\u8bbe\u5907\u65f6, \u4f46APP\u53ef\u80fd\u672a\u5f80\u79e4\u7aef\u5220\u9664\u7528\u6237, \u4e91\u7aef\u9700\u81ea\u52a8\u5047\u5220\u9664\u8fd9\u4e9b\u79e4\u7aef\u7528\u6237</li> </ol>"},{"location":"third_server/request_by_docker/","title":"\u516c\u5171\u5206\u7c7b","text":""},{"location":"third_server/request_by_docker/#_2","title":"\u901a\u7528\u547d\u4ee4","text":""},{"location":"third_server/request_by_docker/#_3","title":"\u8bfb\u53d6\u79e4\u7aef\u5bc6\u94a5","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/read_secret_key</code></p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC <p>\u8fd4\u56de\u6570\u636e:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f secret_key string \u5fc5\u987b \u79e4\u7aef\u5bc6\u94a5(16\u4f4d\u5b57\u7b26\u4e32, \u7a7a\u4e32\u8868\u793a\u8bfb\u53d6\u4e0d\u5230) mock: 123456789ABCDEFG"},{"location":"third_server/request_by_docker/#_4","title":"\u8bfb\u53d6\u5185\u90e8\u578b\u53f7","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/read_model_id</code></p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC <p>\u8fd4\u56de\u6570\u636e:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f model_id string \u5fc5\u987b \u5185\u90e8\u578b\u53f7(4\u4f4d\u5b57\u7b26\u4e32, \u7a7a\u4e32\u8868\u793a\u8bfb\u53d6\u4e0d\u5230) mock: 067E"},{"location":"third_server/request_by_docker/#20","title":"20\u547d\u4ee4(\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u548c\u914d\u7f6e\u4fe1\u606f)","text":""},{"location":"third_server/request_by_docker/#_5","title":"\u8bfb\u53d6\u79e4\u7aef\u7528\u6237","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/read_scale_users</code></p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC <p>\u8fd4\u56de\u6570\u636e:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f scale_users object [] \u5fc5\u987b \u79e4\u7aef\u7528\u6237\u6570\u7ec4(\u6570\u7ec4\u53ef\u4e3a\u7a7a\u6570\u7ec4) item \u7c7b\u578b: object \u251c\u2500 user_index integer \u5fc5\u987b \u7528\u6237\u7d22\u5f15(1-8) mock: 2 \u251c\u2500 gender integer \u5fc5\u987b \u6027\u522b(0\u4e3a\u5973 1\u4e3a\u7537) mock: 1 \u251c\u2500 height number \u5fc5\u987b \u8eab\u9ad8(\u5355\u4f4d\u5398\u7c73, \u4fdd\u7559\u4e00\u4f4d\u5c0f\u6570) mock: 180.5 \u251c\u2500 birthday string \u5fc5\u987b \u751f\u65e5(YYYY-mm-dd\u683c\u5f0f) mock: 1990-01-01 \u251c\u2500 user_key integer \u5fc5\u987b \u7528\u6237\u5bc6\u94a5(1000-9999) mock: 1234 unit integer \u5fc5\u987b \u5355\u4f4d 1 kg 2 lb 4 \u65a4 mock: 1"},{"location":"third_server/request_by_docker/#bow","title":"(\u5ba2\u6237\u5b9a\u5236)\u8bfb\u53d6BOW\u79e4\u7aef\u7528\u6237","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/read_bow_scale_users</code></p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC battery_level integer \u5fc5\u987b \u7535\u91cf 0-\u4e0d\u652f\u6301\u7535\u91cf 1-\u4f4e\u7535\u91cf 2-\u5de5\u4f5c\u7535\u91cf 4-\u6ee1\u7535\u91cf mock: 1 <p>\u8fd4\u56de\u6570\u636e:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f scale_users object [] \u5fc5\u987b \u79e4\u7aef\u7528\u6237\u6570\u7ec4(\u6570\u7ec4\u53ef\u4e3a\u7a7a\u6570\u7ec4) item \u7c7b\u578b: object \u251c\u2500 user_index integer \u5fc5\u987b \u7528\u6237\u7d22\u5f15(1-8) mock: 2 \u251c\u2500 gender integer \u5fc5\u987b \u6027\u522b(0\u4e3a\u5973 1\u4e3a\u7537) mock: 1 \u251c\u2500 height number \u5fc5\u987b \u8eab\u9ad8(\u5355\u4f4d\u5398\u7c73, \u4fdd\u7559\u4e00\u4f4d\u5c0f\u6570) mock: 180.5 \u251c\u2500 birthday string \u5fc5\u987b \u751f\u65e5(YYYY-mm-dd\u683c\u5f0f) mock: 1990-01-01 \u251c\u2500 user_key integer \u5fc5\u987b \u7528\u6237\u5bc6\u94a5(1000-9999) mock: 1234 unit integer \u5fc5\u987b \u5355\u4f4d 1 kg 2 lb 4 \u65a4 mock: 1 ctrl integer \u5fc5\u987b \u4e3a1\u663e\u793a\u6307\u6807, \u4e3a0\u4e0d\u663e\u793a # Bit0-&gt;\u7528\u6237\u540d Bit1-&gt;BMI Bit2-&gt;\u9aa8\u91cf Bit3-&gt;\u4f53\u8102\u7387 Bit4-&gt;\u808c\u8089\u91cf Bit5-&gt;\u4f53\u6c34\u5206 Bit6-&gt;\u5fc3\u7387 Bit7-&gt;\u5929\u6c14 Bit8-&gt;\u91cd\u91cf\u8d8b\u52bf mock: 511"},{"location":"third_server/request_by_docker/#ota","title":"\u8bfb\u53d6Ota\u7248\u672c","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/read_ota_versions</code></p> <p>\u8bf7\u6c42\u53c2\u6570</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC <p>\u8fd4\u56de\u6570\u636e</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f ota_versions object [] \u5fc5\u987b \u56fa\u4ef6\u7248\u672c\u5217\u8868 item \u7c7b\u578b: object \u251c\u2500 internal_model string \u5fc5\u987b \u5185\u90e8\u578b\u53f7 mock: 029A \u251c\u2500 hardware_model string \u5fc5\u987b \u786c\u4ef6\u578b\u53f7 mock: 0001 \u251c\u2500 version integer \u5fc5\u987b \u56fa\u4ef6\u7248\u672c\u53f7 mock: 6 \u251c\u2500 crc string \u5fc5\u987b \u6587\u4ef6\u6821\u9a8c\u548c(8\u4f4d) mock: AABBCCDD"},{"location":"third_server/request_by_docker/#21","title":"21\u547d\u4ee4(\u4e0a\u4f20\u6570\u636e)","text":""},{"location":"third_server/request_by_docker/#_6","title":"\u521b\u5efa\u672a\u77e5\u6d4b\u91cf\u6570\u636e","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/create_unknown_measurement</code></p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC model_id string \u5fc5\u987b \u578b\u53f7ID(4\u4f4d) mock: 0E2B weight number \u5fc5\u987b \u4f53\u91cd mock: 50.0 timestamp integer \u5fc5\u987b \u6d4b\u91cf\u65f6\u95f4\u6233(\u79d2\u7ea7) mock: 1582698882 heart_rate integer \u5fc5\u987b \u5fc3\u7387 mock: 93 resistance integer \u5fc5\u987b 50k\u7535\u963b mock: 500 sec_resistance integer \u5fc5\u987b 500k\u7535\u963b mock: 500 hmac string \u5fc5\u987b \u7b7e\u540d(Hmac) mock: Hmac <p>\u8fd4\u56de\u6570\u636e:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f is_success boolean \u5fc5\u987b \u662f\u5426\u6210\u529f mock: true"},{"location":"third_server/request_by_docker/#_7","title":"\u521b\u5efa\u6d4b\u91cf\u6570\u636e","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/create_measurement</code></p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC model _id string \u5fc5\u987b \u578b\u53f7 mock: 00EA user_index integer \u5fc5\u987b \u7528\u6237\u7d22\u5f15 mock: 1 weight number \u5fc5\u987b \u4f53\u91cd mock: 50.0 timestamp integer \u5fc5\u987b \u6d4b\u91cf\u65f6\u95f4\u6233(\u79d2\u7ea7) mock: 1582698882 heart_rate integer \u5fc5\u987b \u5fc3\u7387 mock: 93 resistance integer \u5fc5\u987b 50k\u7535\u963b mock: 500 sec_resistance integer \u5fc5\u987b 500k\u7535\u963b mock: 500 bmi integer \u5fc5\u987b BMI mock: 21.1 bodyfat number \u5fc5\u987b \u4f53\u8102\u7387 mock: 27.6 body_shape integer \u5fc5\u987b \u4f53\u578b mock: 4 fat_free_weight number \u5fc5\u987b \u53bb\u8102\u4f53\u91cd mock: 39.11 subfat number \u5fc5\u987b \u76ae\u4e0b\u8102\u80aa mock: 25.8 visfat integer \u5fc5\u987b \u5185\u810f\u8102\u80aa\u7b49\u7ea7 mock: 4 water number \u5fc5\u987b \u4f53\u6c34\u5206 mock: 49.7 muscle number \u5fc5\u987b \u9aa8\u9abc\u808c\u7387 mock: 42.2 sinew number \u5fc5\u987b \u808c\u8089\u91cf mock: 36.75 bone number \u5fc5\u987b \u9aa8\u91cf(\u65e0\u673a\u76d0) mock: 2.35 protein number \u5fc5\u987b \u86cb\u767d\u8d28 mock: 16.98 bmr integer \u5fc5\u987b \u57fa\u7840\u4ee3\u8c22 mock: 1214 bodyage integer \u5fc5\u987b \u4f53\u5e74\u9f84 mock: 27 score number \u5fc5\u987b \u5206\u6570 mock: 91.9 cardiac_index number \u5fc5\u987b \u5fc3\u810f\u6307\u6570 mock: 2.7 hmac string \u5fc5\u987b \u7b7e\u540d(Hmac) mock: sfsfsffdsvsdvsd <p>\u8fd4\u56de\u6570\u636e:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f is_success boolean \u5fc5\u987b \u662f\u5426\u6210\u529f mock: true"},{"location":"third_server/request_by_docker/#2220","title":"22\u547d\u4ee4(20\u547d\u4ee4\u7684\u4fe1\u606f\u786e\u8ba4)","text":""},{"location":"third_server/request_by_docker/#_8","title":"\u5b8c\u6210\u4fe1\u606f\u540c\u6b65","text":"<p>\u63a5\u53e3\u5730\u5740: <code>POST /wsp/finish_info_sync</code></p> <p>\u8bf7\u6c42\u53c2\u6570:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f mac string \u5fc5\u987b Mac\u5730\u5740 mock: 12:34:56:78:9A:BC <p>\u8fd4\u56de\u6570\u636e:</p> \u540d\u79f0 \u7c7b\u578b \u662f\u5426\u5fc5\u987b \u5907\u6ce8 \u5176\u4ed6\u4fe1\u606f is_success boolean \u5fc5\u987b \u662f\u5426\u6210\u529f mock: true"}]}