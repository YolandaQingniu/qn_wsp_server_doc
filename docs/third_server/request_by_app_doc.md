## 秤端用户

### 申请密钥
APP通过蓝牙在秤端创建一个用户前, 需向云端索要用户密钥. 

此接口, APP需提供Mac地址, 用户ID, 云端返回新生成的密钥

返回值:
+ 密钥

### 创建秤用户
APP通过蓝牙创建秤端用户后, 也需同步到云端

此接口, APP提供用户ID, 索引值, 秘钥, mac地址, 云端创建秤端用户, 且保证一定创建成功, 如果索引被占用, 则覆盖处理

返回值:
+ 无

### 删除秤用户
当秤端用户已达到限制后, APP会弹出提示框, 让用户勾选秤端用户进行删除.

此接口, APP提供mac地址, 秤端用户ID, 云端通过这些ID, 完全删除对应的秤端用户

返回值:
+ 无

### 获取需要删除的秤用户列表

当秤端用户已达到限制后, APP若能判断哪些用户可以直接删除, 则直接删除, 避免弹框让用户勾选用户删除.
(注: 当APP删除子用户, 解绑设备时, 但APP可能未往秤端删除用户, 云端会自动假删除这些秤端用户)
 
返回值:
+ 该Mac地址旗下所有假删除的的秤端用户列表

### 获取秤用户列表

当秤端用户已达到限制后, APP会弹出提示框, 让用户选择秤端用户进行删除. 则APP需得知可以删除的秤端用户列表.

此接口, APP访问云端得知当前主用户旗下的所有秤端用户

返回值:
+ 当前主用户旗下的未删除的秤端用户列表

## 秤
### 申请配网信息
APP在给秤端配网时, 秤端需得知云端业务地址, Ota升级地址与秤端秘钥, 才能和云端正常通信

返回值:
+ 云端业务地址(需与业务代码保持一致, 如 http://localhost:3000/wsp?code=, 秤端将会将业务代码code与此字符串拼接)
+ Ota升级地址
+ 秤端秘钥 (云端随机生成16位ASCII码秘钥)

### 检查固件版本
当有新的固件版本发布后, APP需弹窗提示有新的固件版本

此接口, APP上传Mac, 内部型号, 硬件型号与当前固件版本, 云端判断是否有新的固件版本

返回值:
+ 是否有新的固件版本

### 更新加密密钥
APP提供Mac地址, 与秘钥, 云端根据Mac地址和秘钥, 更新WSP秤秘钥

返回值:
+ 无

## 备注
1. 当APP删除子用户, 解绑设备时, 但APP可能未往秤端删除用户, 云端需自动假删除这些秤端用户